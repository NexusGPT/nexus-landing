@tailwind base;
@tailwind components;
@tailwind utilities;

@font-face {
  font-family: "PP Fragment Serif";
  src: url("/fonts/pp-fragment-serif.woff2") format("woff2");
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: "Suisse Int'l Regular";
  src: url("/fonts/suisse-intl-regular.woff2") format("woff2"),
       url("/fonts/suisse-intl-regular.woff") format("woff");
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: "Suisse Int'l Mono";
  src: url("/fonts/suisse-intl-mono.woff2") format("woff2"),
       url("/fonts/suisse-intl-mono.woff") format("woff");
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

:root {
  /* Theme colors - aligned with lib/theme.ts */
  --background: #ffffff;
  --foreground: #000000;
  
  /* Nexus brand colors */
  --nexus-black: #000000;
  --nexus-white: #ffffff;
  --nexus-orange: #ff6600;
  --nexus-grey-light: #999999;
  --nexus-grey-medium: #666666;
  --nexus-blue-light: #e6f3ff;
  --nexus-blue-cyan: #b3e5fc;
  
  /* Font families - aligned with lib/theme.ts */
  --font-pp-fragment: "PP Fragment Serif", serif;
  --font-sans: "Suisse Int'l Regular", sans-serif;
  --font-mono: "Suisse Int'l Mono", monospace;
  --font-serif: "PP Fragment Serif", serif;
  
  /* Default text settings - aligned with lib/theme.ts framer settings */
  --framer-font-family: "Suisse Int'l Regular", sans-serif;
  --framer-font-open-type-features: "blwf" on, "cv09" on, "cv03" on, "cv04" on, "cv11" on;
  --framer-font-size: 16px;
  --framer-font-style: normal;
  --framer-font-variation-axes: normal;
  --framer-font-weight: 400;
  --framer-letter-spacing: 0em;
  --framer-paragraph-spacing: 20px;
  --framer-text-alignment: left;
  --framer-text-decoration: none;
  --framer-text-stroke-color: initial;
  --framer-text-stroke-width: initial;
  --framer-text-transform: none;
  
  /* Spacing tokens */
  --container-max-width: 1440px;
  --section-px-mobile: 2rem;
  --section-px-desktop: 5rem;
  
  /* Transition tokens */
  --transition-duration-fast: 75ms;
  --transition-duration-default: 150ms;
  --transition-duration-normal: 300ms;
  --transition-duration-slow: 500ms;
  --transition-easing-linear: linear;
  --transition-easing-custom: cubic-bezier(1, 0.17, 0.16, 0.88);
}

html {
  scroll-behavior: smooth;
}

body {
  color: var(--foreground);
  background: var(--background);
  font-family: var(--framer-font-family);
  font-size: var(--framer-font-size);
  font-style: var(--framer-font-style);
  font-weight: var(--framer-font-weight);
  letter-spacing: var(--framer-letter-spacing);
  text-align: var(--framer-text-alignment);
  text-decoration: var(--framer-text-decoration);
  text-transform: var(--framer-text-transform);
  font-feature-settings: "blwf" on, "cv09" on, "cv03" on, "cv04" on, "cv11" on;
}

p {
  margin-bottom: var(--framer-paragraph-spacing);
}

p:last-child {
  margin-bottom: 0;
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }
}

/* Grain texture effect for hero image background */
@layer components {
  .grain-texture {
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.4'/%3E%3C/svg%3E");
  }

  /* Auto-scrolling animation for customer logos */
  @keyframes scroll {
    0% {
      transform: translateX(0);
    }
    100% {
      transform: translateX(-50%);
    }
  }

  .animate-scroll {
    animation: scroll 8s linear infinite;
    display: flex;
    width: fit-content;
    will-change: transform;
    backface-visibility: hidden;
    transform: translateZ(0);
  }

  /* Remove white background from Unicorn Studio embeds */
  iframe[src*="unicorn"] {
    background: transparent !important;
  }
  
  /* Aggressive canvas transparency rules */
  .unicorn-scene-wrapper canvas {
    background: transparent !important;
    background-color: transparent !important;
  }
  
  /* Target canvas elements more specifically */
  .unicorn-scene-wrapper * canvas,
  .unicorn-scene-wrapper canvas,
  div canvas,
  section canvas,
  [class*="UnicornScene"] canvas {
    background: transparent !important;
    background-color: transparent !important;
  }

  /* Fade in up animation */
  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-fade-in-up {
    animation: fadeInUp 0.6s ease-out forwards;
  }

  .animate-fade-in-up-delay-1 {
    animation: fadeInUp 0.6s ease-out 0.1s forwards;
    opacity: 0;
  }

  .animate-fade-in-up-delay-2 {
    animation: fadeInUp 0.6s ease-out 0.2s forwards;
    opacity: 0;
  }

  .animate-fade-in-up-delay-3 {
    animation: fadeInUp 0.6s ease-out 0.3s forwards;
    opacity: 0;
  }

  .animate-fade-in-up-delay-4 {
    animation: fadeInUp 0.6s ease-out 0.4s forwards;
    opacity: 0;
  }

  /* Intersection observer based animation - hidden by default */
  .fade-in-up-on-scroll {
    opacity: 0;
    transform: translateY(30px);
    transition: opacity 0.6s ease-out, transform 0.6s ease-out;
  }

  .fade-in-up-on-scroll.is-visible {
    opacity: 1;
    transform: translateY(0);
  }

  /* Stagger delays for children */
  .fade-in-up-on-scroll.stagger-1 { transition-delay: 0.1s; }
  .fade-in-up-on-scroll.stagger-2 { transition-delay: 0.2s; }
  .fade-in-up-on-scroll.stagger-3 { transition-delay: 0.3s; }
  .fade-in-up-on-scroll.stagger-4 { transition-delay: 0.4s; }
  .fade-in-up-on-scroll.stagger-5 { transition-delay: 0.5s; }
}
